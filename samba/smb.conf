[global]
   # ============================================================
   # 1. IDENTIDAD Y GRUPO
   # ============================================================
   server string = pi5
   workgroup = HOME
   
   # ============================================================
   # 2. SEGURIDAD DE RED Y USUARIOS
   # ============================================================
   hosts allow = 127.0.0.1 X.X.X.0/24 10.8.0.0/24
   hosts deny = ALL
   
   force user = jordan
   force group = home
   
   invalid users = root bin daemon adm sync shutdown halt mail news uucp operator
   map to guest = never
   restrict anonymous = 2

   # ============================================================
   # 3. PROTOCOLO Y CIFRADO
   # ============================================================
   min protocol = SMB3_11
   ntlm auth = no
   disable netbios = yes
   smb encrypt = required

   # ============================================================
   # 4. RENDIMIENTO
   # ============================================================
   use sendfile = yes
   aio read size = 1
   aio write size = 1
   socket options = TCP_NODELAY
   strict locking = no

   # ============================================================
   # 5. LOGS
   # ============================================================
   log file = /var/log/samba/log.%m
   max log size = 1000
   logging = file

   # ============================================================
   # 6. CONFIGURACIÓN HÍBRIDA (MAC + WINDOWS + LINUX)
   # ============================================================
   vfs objects = catia fruit streams_xattr recycle

   # --- Configuración Papelera (Recycle) ---
   recycle:repository = .recycle
   recycle:keeptree = yes
   recycle:versions = yes
   recycle:touch = yes

   # --- Configuración Mac (Fruit) ---
   fruit:metadata = stream
   fruit:model = MacSamba
   fruit:posix_rename = yes
   fruit:veto_appledouble = no
   fruit:wipe_intentionally_left_blank_rfork = yes
   fruit:delete_empty_adfiles = yes
   fruit:nfs_aces = no

   # --- Configuración Compatibilidad Caracteres (Catia) ---
   catia:mappings = 0x22:0xa8,0x2a:0xa4,0x2f:0xf8,0x3a:0xf7,0x3c:0xab,0x3e:0xbb,0x3f:0xbf,0x5c:0xff,0x7c:0xa6


# ============================================================
# CARPETAS COMPARTIDAS
# ============================================================

[general]
   path = /general
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.com/*.dll/*.bat/*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[music]
   path = /music
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.com/*.dll/*.bat/*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[pcgames]
   path = /pcgames
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[tvshows]
   path = /tvshows
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[movies]
   path = /movies
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[console]
   path = /console
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.com/*.dll/*.bat/*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[pcsoftware]
   path = /pcsoftware
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[downloads]
   path = /downloads
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[books]
   path = /books
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes

[savegame]
   path = /savegame
   browsable = yes
   read only = no
   guest ok = no
   valid users = jordan
   write list = jordan
   veto files = /*.vbs/._*/.apdisk/.AppleDouble/.DS_Store/.TemporaryItems/.Trashes/desktop.ini/ehthumbs.db/Network Trash Folder/Temporary Items/Thumbs.db/
   delete veto files = yes